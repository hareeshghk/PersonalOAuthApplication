<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Profile - OAuth App</title>
    <style>
        body { font-family: sans-serif; margin: 20px; }
        .container { max-width: 800px; margin: auto; padding: 20px; border: 1px solid #ccc; border-radius: 8px; }
        pre { background-color: #f4f4f4; padding: 15px; border-radius: 4px; overflow-x: auto; }
        a.button {
            display: inline-block;
            padding: 10px 15px;
            margin: 10px 5px 10px 0;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 4px;
        }
        a.button:hover { background-color: #0056b3; }
        img.profile-pic { border-radius: 50%; max-width: 100px; margin-bottom: 15px; }
    </style>
</head>
<body>
    <div class="container">
        {% if user %}
            <h1>Your Profile Information</h1>
            <p>
                {% if user.picture %}
                    <img src="{{ user.picture }}" alt="Profile Picture" class="profile-pic"><br>
                {% endif %}
                <strong>Name:</strong> {{ user.name }}<br>
                <strong>Email:</strong> {{ user.email }}<br>
                {% if user.given_name %}<strong>Given Name:</strong> {{ user.given_name }}<br>{% endif %}
                {% if user.family_name %}<strong>Family Name:</strong> {{ user.family_name }}<br>{% endif %}
                <strong>Email Verified:</strong> {{ user.email_verified }}<br>
                <strong>Locale:</strong> {{ user.locale }}<br>
            </p>

            <h2>Full Information Shared by Google:</h2>
            <p>This is all the information Google shared with our application based on the requested scopes (openid, email, profile):</p>
            <pre>{{ user_info_pretty }}</pre>

            <a href="{{ url_for('index') }}" class="button">Home</a>
            <a href="{{ url_for('logout') }}" class="button">Logout</a>
        {% else %}
            <p>You are not logged in. Please <a href="{{ url_for('index') }}">go to the home page to log in</a>.</p>
        {% endif %}
    </div>
</body>
</html>